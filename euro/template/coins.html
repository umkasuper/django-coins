<!DOCTYPE html>
<html lang="ru" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta http-equiv="Content-Language" content="ru"/>
<script type="text/javascript"  language="Javascript" src="http://code.jquery.com/jquery.js"> </script>
<link rel="stylesheet" type="text/css" href= "/media/css/base.css">
</head>

<style type="text/css">

</style>

<body id="doc-body">

<script type="text/javascript" language="Javascript">
    function onClinkHref()
    {
        var commands = window.event.target.id.split("_");
        var command = commands[0];
        var id = commands[1];

        // все показываем
        $("[id*='_absent']").show();
        $("[id*='_present']").show();

        // отключаем те которые отсутствуют
        if (command == 'show')
            $("[id*=" + id + "_absent]").hide();

        // отключаем те которые имеются
        if (command == 'hide')
            $("[id*=" + id +"_present]").hide();
    }
</script>

{% load user_coin %}



    <div id="main-block"> <!-- начало главного блока -->
        <header id="header">
            Это заголовок
        </header>
        <nav id="navigation">
            <a href="1.html">Евро союз</a>
            <a href="1.html">Россия</a>
            <a href="1.html">США</a>
        </nav>

        <div id="block-info"> <!-- тут содержиться и меню и информация -->
            <div id="left_side">	<!-- меню -->
                <ul class="nav">
                    {% if country %}
                        {%  for region in country %}
                            <li><a href="http://127.0.0.1:8000/coins/?country={{ region.name }}">{{ region.name }}</a></li>
                        {% endfor %}

                    {% endif %}
                </ul>
            </div>

            <article id="info"> <!-- артикль начало -->
                {% if grouped_country %}

                    {% for country in grouped_country %}
                        {% if forloop.revcounter0 >= 1 %}
                            <p>
                                <a>Показать </a><a class="link" id="show_" onClick="onClinkHref()">имеющиеся,</a>
                                <a> показать </a><a class="link" id="hide_" onClick="onClinkHref()">отсутсвующие,</a>
                                <a> показать </a><a class="link"  id="all_" onClick="onClinkHref()">все</a>
                            </p>

                        {% endif %}
                        <p>
                            Показана страна: <strong>{{ country.country_name }}</strong>
                            {% if country.coins_group %}
                                <a>показать </a><a class="link" id="show_{{ country.country_name }}" onClick="onClinkHref()">имеющиеся,</a>
                                <a> показать </a><a class="link" id="hide_{{ country.country_name }}" onClick="onClinkHref()">отсутсвующие,</a>
                                <a> показать </a><a class="link"  id="all_{{ country.country_name }}" onClick="onClinkHref()">все</a>
                            {% endif %}
                        </p>

                        {% if country.coins_group %}
                            {%  for group in country.coins_group %}
                                {% if  group.coins_group_name %}
                                    <p> <strong>{{ group.coins_group_name }}</strong></p>
                                {%  endif %}
                                <table style="width: 607px">
                                    <tr>
                                        {% for coin in group.coins_group %}
                                            {% if forloop.counter0|divisibleby:"4" %}<tr>{% endif %}
                                            <td class="cell_coins">
                                                {% if request.user|user_have_coin:coin %}
                                                    <a style="vertical-align: top; text-align: center" id="{{ country.country_name }}_present">{{ coin.nominal }}</a> </br>
                                                    <img id="{{ country.country_name }}_present" src="{{ coin.image.url }}" width="100" height="100" />
                                                {% else %}
                                                    <a style="vertical-align: top; text-align: center" id="{{ country.country_name }}_absent">{{ coin.nominal }}</a> </br>
                                                    <img id="{{ country.country_name }}_absent" src="{{ coin.image.url }}" width="100" height="100" />
                                                {% endif %}
                                            </td>
                                            {% if forloop.last or forloop.counter|divisibleby:"4" %}</tr>{% endif %}
                                        {% endfor %}
                                    </tr>
                                </table>
                            {% endfor %}
                        {% else %}
                            <p>Монеты страны {{ country.country_name }} не существуют</p>
                        {% endif %}
                    {% endfor %}
                {% endif %}

            </article> <!-- артикль конец -->


        </div>


        <footer id="footer"> <!-- начало описания подвала -->
            Это подвал
        </footer>

    </div> <!-- конец главного блока -->

{% comment %}
{% if country %}
    <form>
        <p>
            Выберите страну
            <select name="country">
                {%  for region in country %}
                    <option> {{ region.name }}</option>
                {% endfor %}
            </select>
            <input type="submit" value="Ok">
        </p>
    </form>
{% endif %}


{% if grouped_country %}

    {% for country in grouped_country %}
        {% if forloop.revcounter0 >= 1 %}
            <p>
                <a>Показать </a><a class="link" id="show_" onClick="onClinkHref()">имеющиеся,</a>
                <a> показать </a><a class="link" id="hide_" onClick="onClinkHref()">отсутсвующие,</a>
                <a> показать </a><a class="link"  id="all_" onClick="onClinkHref()">все</a>
            </p>

        {% endif %}
        <p>
            Показана страна: <strong>{{ country.country_name }}</strong>
            {% if country.coins_group %}
                <a>показать </a><a class="link" id="show_{{ country.country_name }}" onClick="onClinkHref()">имеющиеся,</a>
                <a> показать </a><a class="link" id="hide_{{ country.country_name }}" onClick="onClinkHref()">отсутсвующие,</a>
                <a> показать </a><a class="link"  id="all_{{ country.country_name }}" onClick="onClinkHref()">все</a>
            {% endif %}
        </p>

        {% if country.coins_group %}
            {%  for group in country.coins_group %}
                {% if  group.coins_group_name %}
                    <p> <strong>{{ group.coins_group_name }}</strong></p>
                {%  endif %}
                <table style="width: 607px">
                    <tr>
                        {% for coin in group.coins_group %}
                            {% if forloop.counter0|divisibleby:"4" %}<tr>{% endif %}
                                <td class="cell_coins">
                                    {% if request.user|user_have_coin:coin %}
                                        <a style="vertical-align: top; text-align: center" id="{{ country.country_name }}_present">{{ coin.nominal }}</a> </br>
                                        <img id="{{ country.country_name }}_present" src="{{ coin.image.url }}" width="100" height="100" />
                                    {% else %}
                                        <a style="vertical-align: top; text-align: center" id="{{ country.country_name }}_absent">{{ coin.nominal }}</a> </br>
                                        <img id="{{ country.country_name }}_absent" src="{{ coin.image.url }}" width="100" height="100" />
                                    {% endif %}
                                </td>
                            {% if forloop.last or forloop.counter|divisibleby:"4" %}</tr>{% endif %}
                        {% endfor %}
                    </tr>
                </table>
            {% endfor %}
        {% else %}
            <p>Монеты страны {{ country.country_name }} не существуют</p>
        {% endif %}
    {% endfor %}
{% endif %}

{% endcomment %}

</body>
</html>
